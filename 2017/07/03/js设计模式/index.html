

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    
    <meta name="author" content="parry">
    
    <meta name="description" content="设计模式（Design pattern）是一套被反复使用、多数人知晓的、经过分类编目的、代码设计经验的总结。使用设计模式是为了可重用代码、让代码更容易被他人理解、保证代码可靠性。 毫无疑问，设计模式于己于他人于系统都是多赢的；设计模式使代码编写真正工程化；设计模式是软件工程的基石脉络，如同大厦的结构">
    
    

    
    <link rel="alternative" href="YOUR_RSS_ADDRESS" title="parry" type="application/atom+xml">
    
    
    <link rel="icon" href="/blog/favicon.png">
    
    

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>js设计模式 | parry</title>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="/blog/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="/blog/css/style.css">

    <!-- Javascript -->
    <script src="/blog/js/jquery-2.1.0.min.js"></script>
    
    <script src="/blog/bootstrap/js/bootstrap.min.js"></script>

    <script src="/blog/js/common.js"></script>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>
<body>
    <nav class="navbar navbar-default navbar-fixed-top navbar-inverse" role="banner">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a target="_blank" class="navbar-brand" href="http://code-helloworld.com" title="parry">parry</a>

            
            </div>

            <div role="navigation" class="collapse navbar-collapse bs-navbar-collapse">
                
                <a id="search" href="javascript:" class="navbar-text pull-right">搜索</a>
                <ul class="nav navbar-nav">
                    
                    <li id="nav-index"><a href="/blog">首页</a></li>
                    
                    <li id="nav-archives"><a href="/blog/archives">归档</a></li>
                    
                    
                    <li><a href="https://github.com/adminparry" target="_blank">GitHub</a></li>
                </ul>
            </div>
        </div>
    </nav>
    <div style="width:100%;height:100%;background:white;display:none;">
 
    </div>
    <script>
    var backRoot = "/blog/images/background/";
    var backArray = [ "1.jpg", "2.jpg", "3.jpg",  ];
        
    $(function() {
        // page-id...
        var pageId = "2017/07/03/js设计模式/";
        pageId = pageId.substr(0, pageId.indexOf("/"));
        if(pageId === "") pageId = "index";
        
        $("#nav-" + pageId).addClass("active");
        $('#search').click(function(){

        })
    });
    </script>

    <article class="post container">
    <div class="well post-body first-post last-post">
        <h1>js设计模式</h1>
        
        <div class="time-info">
发表于:<time datetime="2017-07-03T08:38:08.603Z" itemprop="datePublished">2017-07-03</time>，更新于:<time datetime="2017-12-25T05:46:44.111Z" itemprop="dateModified">2017-12-25</time>，By <a href="http://code-helloworld.com" title="parry">parry</a>
        </div>
        
        <div class="post-body-inner">
            <div id="toc" class="toc-article well">
                <strong class="toc-title">大纲</strong>
                <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#构造函数模式"><span class="toc-number">1.</span> <span class="toc-text">构造函数模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#单例模式"><span class="toc-number">2.</span> <span class="toc-text">单例模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#模板模式"><span class="toc-number">3.</span> <span class="toc-text">模板模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#装饰者模式"><span class="toc-number">4.</span> <span class="toc-text">装饰者模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#中介者模式"><span class="toc-number">5.</span> <span class="toc-text">中介者模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#观察者模式"><span class="toc-number">6.</span> <span class="toc-text">观察者模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#命令模式"><span class="toc-number">7.</span> <span class="toc-text">命令模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#迭代器模式"><span class="toc-number">8.</span> <span class="toc-text">迭代器模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#外观模式"><span class="toc-number">9.</span> <span class="toc-text">外观模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#组合模式"><span class="toc-number">10.</span> <span class="toc-text">组合模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#策略模式"><span class="toc-number">11.</span> <span class="toc-text">策略模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#建造者模式"><span class="toc-number">12.</span> <span class="toc-text">建造者模式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#原型模式"><span class="toc-number">13.</span> <span class="toc-text">原型模式</span></a></li></ol>
            </div>
            <div class="description">

            <p>设计模式（Design pattern）是一套被反复使用、多数人知晓的、经过分类编目的、代码设计经验的总结。使用设计模式是为了可重用代码、让代码更容易被他人理解、保证代码可靠性。 毫无疑问，设计模式于己于他人于系统都是多赢的；设计模式使代码编写真正工程化；设计模式是软件工程的基石脉络，如同大厦的结构一样。</p>
<h3 id="构造函数模式"><a href="#构造函数模式" class="headerlink" title="构造函数模式"></a>构造函数模式</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">function</span> Class(par)&#123;</div><div class="line">	<span class="keyword">if</span>( !(this instanceof Class) )&#123;</div><div class="line">		<span class="built_in">return</span> new Class(par)</div><div class="line">	&#125;</div><div class="line">	//属性</div><div class="line">	this.prop = <span class="string">"function"</span>;</div><div class="line">	//参数</div><div class="line">	this.params = par;</div><div class="line">	//方法</div><div class="line">	this.method = <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">		<span class="built_in">return</span> &#123;prop:this.prop,params:this.params&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>js里没有类的概念，但是有特殊的构造函数，通过new关键字调用构造函数</p>
<h3 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var singlton = &#123;</div><div class="line">	a:1,</div><div class="line">	b:<span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">		var name = <span class="string">"single dog"</span>;</div><div class="line">		<span class="built_in">return</span> name;</div><div class="line">	&#125;</div><div class="line">	 </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>单例模式非常适用于一种情形的生产，也体现出了职责单一原则</p>
<h3 id="模板模式"><a href="#模板模式" class="headerlink" title="模板模式"></a>模板模式</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">function</span> <span class="function"><span class="title">Parent</span></span>()&#123;</div><div class="line">	this.prop = <span class="string">"y"</span>;</div><div class="line">&#125;</div><div class="line">parent.prototype.name = <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">	<span class="built_in">return</span> Parent.name</div><div class="line">&#125;</div><div class="line">parent.prototype.age = <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="keyword">function</span> <span class="function"><span class="title">Child</span></span>()&#123;</div><div class="line">	Parent.call(this)</div><div class="line">&#125;</div><div class="line">Child.prototype = new Parent();</div><div class="line">Child.prototype.constructor = Child;</div><div class="line"></div><div class="line">Child.prototype.name = <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">	<span class="built_in">return</span> Child.name</div><div class="line">&#125;</div><div class="line">模板模式是简单复用的形式，当然我们的原型继承就是利用这个特性</div></pre></td></tr></table></figure>
<h3 id="装饰者模式"><a href="#装饰者模式" class="headerlink" title="装饰者模式"></a>装饰者模式</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">function</span> <span class="function"><span class="title">noop</span></span>()&#123;&#125;</div><div class="line">noop.prototype.rect = <span class="keyword">function</span>(a)&#123;</div><div class="line">	console.log(<span class="string">'balabala'</span>,a)</div><div class="line">&#125;</div><div class="line"><span class="keyword">function</span> over(c)&#123;</div><div class="line">	this.copy = c;</div><div class="line">&#125;</div><div class="line">over.prototype.rect = <span class="keyword">function</span>(a,b)&#123;</div><div class="line">	this.copy.prototype.rect.call(this,a);</div><div class="line"></div><div class="line">	console.log(<span class="string">'bb'</span>,b)</div><div class="line">&#125;</div><div class="line">var o = new over(noop);</div><div class="line">o.rect(1,3)</div></pre></td></tr></table></figure>
<h3 id="中介者模式"><a href="#中介者模式" class="headerlink" title="中介者模式"></a>中介者模式</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">function</span> mid(name)&#123;</div><div class="line">	this.name = name;</div><div class="line">&#125;</div><div class="line">mid.prototype.set = <span class="keyword">function</span>(a,b)&#123;</div><div class="line">	reject().set.apply(this,arguments)</div><div class="line">&#125;</div><div class="line">mid.prototype.get = <span class="keyword">function</span>(m)&#123;</div><div class="line">	console.log(m)</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">function</span> <span class="function"><span class="title">reject</span></span>()&#123;</div><div class="line">	</div><div class="line">	<span class="keyword">if</span>( !(this instanceof reject) )&#123;</div><div class="line">		<span class="built_in">return</span> new reject();</div><div class="line">	&#125;</div><div class="line">	</div><div class="line"></div><div class="line">&#125;</div><div class="line">reject.prototype.msg = &#123;&#125;</div><div class="line"></div><div class="line">reject.prototype.set = <span class="keyword">function</span>(m)&#123;</div><div class="line">	</div><div class="line">	reject.prototype.msg[this.name].get(m)</div><div class="line">&#125;</div><div class="line">reject.prototype.resolve = <span class="keyword">function</span>(obj)&#123;</div><div class="line">	</div><div class="line">	this.msg[obj.name] = obj;</div><div class="line"></div><div class="line">&#125;</div><div class="line">var obj1 = new mid(<span class="string">'a'</span>);</div><div class="line">var obj2 = new mid(<span class="string">'b'</span>);</div><div class="line">var rej = reject();</div><div class="line"></div><div class="line">rej.resolve(obj1);</div><div class="line">rej.resolve(obj2);</div><div class="line"></div><div class="line">obj1.set(<span class="string">'q'</span>)</div></pre></td></tr></table></figure>
<h3 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">function</span> <span class="function"><span class="title">Observable</span></span>()&#123;</div><div class="line">	<span class="keyword">if</span>( !(this instanceof Observable) )&#123;</div><div class="line">		<span class="built_in">return</span> new Observable()</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">Observable.prototype.map = &#123;&#125;;</div><div class="line">Observable.prototype.on = <span class="keyword">function</span>(key,fn)&#123;</div><div class="line">	</div><div class="line">	<span class="keyword">if</span>(this.map[key] == void 0)&#123;</div><div class="line">		this.map[key] = [fn];</div><div class="line">	&#125;<span class="keyword">else</span>&#123;</div><div class="line">		this.map[key].push(fn);</div><div class="line">	&#125;	</div><div class="line">	</div><div class="line">&#125;</div><div class="line">Observable.prototype.off = <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">	</div><div class="line">&#125;</div><div class="line">Observable.prototype.trigger = <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">	var i=0,</div><div class="line">	arrPro = Array.prototype,</div><div class="line">	arg1 = arguments[0],</div><div class="line">	arg2 = arrPro.slice.call(arguments,1).join(<span class="string">','</span>),</div><div class="line">	len = arg2.length,</div><div class="line">	map = this.map;</div><div class="line">	</div><div class="line"></div><div class="line">	<span class="keyword">for</span>(var name <span class="keyword">in</span> map)&#123;</div><div class="line">		<span class="keyword">if</span>(name == arg1)&#123;</div><div class="line">			<span class="keyword">for</span>(;i&lt;map[name].length;i++ )&#123;</div><div class="line">				var fn = map[name][i].toString();</div><div class="line">				new Function(<span class="string">'!'</span> + fn + <span class="string">'('</span>+ arg2 +<span class="string">')'</span>)();</div><div class="line">				 </div><div class="line">			&#125;</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">var hook = new Observable();</div><div class="line"></div><div class="line">hook.on(<span class="string">'a'</span>,<span class="keyword">function</span>(a,b,c,d)&#123;</div><div class="line">	console.log(a,b,c,d);</div><div class="line">&#125;)</div><div class="line">hook.on(<span class="string">'a'</span>,<span class="keyword">function</span>(a,b)&#123;</div><div class="line">	console.log(a,b);</div><div class="line">&#125;)</div><div class="line">hook.trigger(<span class="string">'a'</span>,[1,3,5,4,3,3,4,4,3,3,34,3,4,5,5,4,3,3,3,4,5,5]);</div></pre></td></tr></table></figure>
<h3 id="命令模式"><a href="#命令模式" class="headerlink" title="命令模式"></a>命令模式</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">	</div></pre></td></tr></table></figure>
<h3 id="迭代器模式"><a href="#迭代器模式" class="headerlink" title="迭代器模式"></a>迭代器模式</h3><p>1、访问一个聚合对象的内容而无须暴露它的内部表示。 2、需要为聚合对象提供多种遍历方式。 3、为遍历不同的聚合结构提供一个统一的接口。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</div><div class="line">	</div><div class="line">	var arr = [1,32,4,6,7,5,4];</div><div class="line"></div><div class="line">	<span class="keyword">function</span> iterator(arr)&#123;</div><div class="line">		this.arr = arr;</div><div class="line">		this.length = arr.length;</div><div class="line">		this.index = 0;</div><div class="line">	&#125;</div><div class="line">	iterator.prototype.hasNext = <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">		<span class="built_in">return</span> this.index &lt; this.length;</div><div class="line">	&#125;</div><div class="line">	iterator.prototype.next = <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">		<span class="built_in">return</span> this.arr[this.index++]</div><div class="line">	&#125;</div><div class="line">	var tor = new iterator(arr);</div><div class="line"></div><div class="line">	<span class="keyword">while</span>(tor.hasNext())&#123;</div><div class="line">		console.log(tor.next())</div><div class="line">	&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="外观模式"><a href="#外观模式" class="headerlink" title="外观模式"></a>外观模式</h3><p>使用一个方法去内部执行多个需要调用的方法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</div><div class="line">	<span class="keyword">function</span> preventAndBubble(ev)&#123;</div><div class="line">		ev.stopPropergation();</div><div class="line">		ev.preventDefault();</div><div class="line">	&#125;</div><div class="line"></div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="组合模式"><a href="#组合模式" class="headerlink" title="组合模式"></a>组合模式</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">	</div></pre></td></tr></table></figure>
<h3 id="策略模式"><a href="#策略模式" class="headerlink" title="策略模式"></a>策略模式</h3><p> 1、如果在一个系统里面有许多类，它们之间的区别仅在于它们的行为，那么使用策略模式可以动态地让一个对象在许多行为中选择一种行为。 2、一个系统需要动态地在几种算法中选择一种。 3、如果一个对象有很多的行为，如果不用恰当的模式，这些行为就只好使用多重的条件选择语句来实现。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</div><div class="line">	/*</div><div class="line"> * 缓动算法: 接收4个参数，分别表示： 动画已消失的时间， 小球原始位置， 小球目标位置， 动画持续的总时间</div><div class="line"> */</div><div class="line">var tween = &#123;</div><div class="line">    linear: <span class="keyword">function</span>(t, b, c, d)&#123;</div><div class="line">        <span class="built_in">return</span> c*t/d + b;</div><div class="line">    &#125;,</div><div class="line">    easeIn: <span class="keyword">function</span>(t, b, c, d)&#123;</div><div class="line">        <span class="built_in">return</span> c * ( t /= d ) * t + b;</div><div class="line">    &#125;,</div><div class="line">    strongEaseIn: <span class="keyword">function</span>(t, b, c, d)&#123;</div><div class="line">        <span class="built_in">return</span> c * ( t /= d ) * t * t * t * t + b;</div><div class="line">    &#125;,</div><div class="line">    strongEaseOut: <span class="keyword">function</span>(t, b, c, d)&#123;</div><div class="line">        <span class="built_in">return</span> c * ( ( t = t / d -1 ) * t * t * t * t + 1 ) + b;</div><div class="line">    &#125;,</div><div class="line">    sineaseIn: <span class="keyword">function</span>(t, b, c, d)&#123;</div><div class="line">        <span class="built_in">return</span> c * ( t /= d ) * t * t + b;</div><div class="line">    &#125;,</div><div class="line">    sineaseOut: <span class="keyword">function</span>(t, b, c, d)&#123;</div><div class="line">        <span class="built_in">return</span> c * ( ( t = t / d -1 ) * t * t + 1 ) +b;</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="建造者模式"><a href="#建造者模式" class="headerlink" title="建造者模式"></a>建造者模式</h3><p>1、需要生成的对象具有复杂的内部结构。 2、需要生成的对象内部属性本身相互依赖。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">&lt;script <span class="built_in">type</span>=<span class="string">"text/javascript"</span>&gt;</div><div class="line">	<span class="keyword">function</span> dom(ele)&#123;</div><div class="line">		this.ele = ele;</div><div class="line">		</div><div class="line">	&#125;</div><div class="line">	dom.prototype.getClass = <span class="function"><span class="title">function</span></span>()&#123;</div><div class="line">		this.curClass = this.ele.className.match(/\S+/g);</div><div class="line">	</div><div class="line">		var json = &#123;&#125;;</div><div class="line">		</div><div class="line">		</div><div class="line">		this.curClass.forEach(<span class="keyword">function</span>(item,index)&#123;</div><div class="line">			json[item] = index;</div><div class="line">		&#125;)</div><div class="line"></div><div class="line">		<span class="built_in">return</span> json;</div><div class="line">	&#125;</div><div class="line">	dom.prototype.addClass = <span class="keyword">function</span>(str)&#123;</div><div class="line">		</div><div class="line">		var has = this.hasClass(str);</div><div class="line"></div><div class="line">		this.ele.className = this.curClass.concat(this.uncommon).join(<span class="string">' '</span>)</div><div class="line"></div><div class="line">	&#125;</div><div class="line">	dom.prototype.hasClass = <span class="keyword">function</span>(str)&#123;</div><div class="line">		var arr = str.match(/\S+/g);</div><div class="line">		</div><div class="line">		var common = [];</div><div class="line">		var uncommon = [];</div><div class="line">		var json = this.getClass();</div><div class="line"></div><div class="line">		arr.forEach(<span class="keyword">function</span>(item,index)&#123;</div><div class="line">			<span class="keyword">if</span>(item <span class="keyword">in</span> json)&#123;</div><div class="line">				common.push(item);</div><div class="line">			&#125;<span class="keyword">else</span>&#123;</div><div class="line">				uncommon.push(item);</div><div class="line">			&#125;</div><div class="line">		&#125;)</div><div class="line">		this.common = common;</div><div class="line">		this.uncommon = uncommon;</div><div class="line"></div><div class="line">		<span class="built_in">return</span> common.length &gt; 0 ? <span class="literal">false</span> : <span class="literal">true</span>;</div><div class="line">	&#125;</div><div class="line">	dom.prototype.removeClass = <span class="keyword">function</span>(str)&#123;</div><div class="line">		//...</div><div class="line">	&#125;</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="原型模式"><a href="#原型模式" class="headerlink" title="原型模式"></a>原型模式</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">var json = &#123;</div><div class="line">	name:<span class="string">"prop"</span>,</div><div class="line">	age:26,</div><div class="line">	method:&#123;</div><div class="line">		a:<span class="keyword">function</span>(a)&#123;<span class="built_in">return</span> a&#125;,</div><div class="line">		b:this</div><div class="line">	&#125;,</div><div class="line">	length:[2,45]</div><div class="line"></div><div class="line">&#125;</div><div class="line"><span class="keyword">function</span> <span class="built_in">clone</span>(obj)&#123;</div><div class="line">	var ret,b,k;</div><div class="line">	obj instanceof Array ;</div><div class="line">	obj instanceof Object ;</div><div class="line">	<span class="keyword">for</span>( k <span class="keyword">in</span> obj )&#123;</div><div class="line">		ret[k] = obj[k];</div><div class="line">	&#125;</div><div class="line">	<span class="built_in">return</span> ret;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><a href="http://www.cnblogs.com/tugenhua0707/p/5198407.html" target="_blank" rel="external">http://www.cnblogs.com/tugenhua0707/p/5198407.html</a></p>

            </div>

			
            <section class="comment">
<!-- 多说评论框 start -->
	<div class="ds-thread" data-thread-key="/blog/2017/07/03/js设计模式/" data-title="js设计模式" data-url="http://code-helloworld.com/blog/2017/07/03/js设计模式/"></div>
<!-- 多说评论框 end -->
<!-- 多说公共JS代码 start (一个网页只需插入一次) -->
<script type="text/javascript">
var duoshuoQuery = {short_name:"YOUR_DUOSHUO_SHORT_NAME"};
	(function() {
		var ds = document.createElement('script');
		ds.type = 'text/javascript';ds.async = true;
		ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
		ds.charset = 'UTF-8';
		(document.getElementsByTagName('head')[0]
		 || document.getElementsByTagName('body')[0]).appendChild(ds);
	})();
	</script>
<!-- 多说公共JS代码 end -->
</section>
        </div>
    </div>
</article>

    <footer id="footer">
    	<br />
        <small>this blog power by <a href="https://hexo.io/" target="_blank">Hexo</a><br />
        <small>&copy; 2014 parry</small>
    </footer>

    


</body>
</html>

